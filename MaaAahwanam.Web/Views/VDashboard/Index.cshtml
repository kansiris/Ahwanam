
@{
    Layout = null;
}

<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Panagea - Premium site template for travel agencies, hotels and restaurant listing.">
    <meta name="author" content="Ansonika">
    <title></title>

    <!-- Favicons-->
    <link rel="shortcut icon" href="img\favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" type="image/x-icon" href="img\apple-touch-icon-57x57-precomposed.png">
    <link rel="apple-touch-icon" type="image/x-icon" sizes="72x72" href="img\apple-touch-icon-72x72-precomposed.png">
    <link rel="apple-touch-icon" type="image/x-icon" sizes="114x114" href="img\apple-touch-icon-114x114-precomposed.png">
    <link rel="apple-touch-icon" type="image/x-icon" sizes="144x144" href="img\apple-touch-icon-144x144-precomposed.png">

    <!-- semantic -->
    <link rel="stylesheet" href="~/newdesignstyles/css/semantic.css" type="text/css">
    <link rel="stylesheet" href="~/newdesignstyles/css/semantic.min.css" type="text/css">

    <!-- BASE CSS -->
    <link href="~/newdesignstyles/css/bootstrap.min.css" rel="stylesheet" />
    <link href="~/newdesignstyles/css/style.css" rel="stylesheet">
    <link href="~/newdesignstyles/css/vendors.css" rel="stylesheet">
    <link href="~/newdesignstyles/css/all_icons.min.css" rel="stylesheet">
    <link rel="stylesheet" href="path/to/font-awesome/css/font-awesome.min.css">

    <!-- SPECIFIC CSS -->
    <link href="~/newdesignstyles/css/daterangepicker.css" rel="stylesheet">

    <!-- ALTERNATIVE COLORS CSS -->
    <link href="#" id="colors" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- YOUR CUSTOM CSS -->
    <link href="http://design.maa-aahwanam.com/panagea/css/custom1.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Lato:700" rel="stylesheet">
    <style>
        input[type=text] {
            width: 39%;
            padding: 12px 26px;
            margin: 5px 15px;
            box-sizing: border-box;
            border:2px black solid;
            background-color: #fff;
            
        }

        table, th, td {
            border: 0px;
            padding-left: 61px;
            padding-top: 24px;
            margin-top: -16px;
            font-size: 16px;
        }
         .button {
            background-color: #fff;
            border: none;
            color: black;
            padding: 6px 3px 15px 2px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            margin: 8px 0px 3px 6px;
            cursor: pointer;
            border-radius: 16px;
        }

        .button {
            height: 27px;
            width: 112px;
        }
        p.caption {
    margin: 0 30px 0px 0;
    background-color: yellow;
   
}
        .caption {
    font-size: 10px;
    font-family: lato;
    color: #000;
}
      
          .grid-container {
  display: grid;
  grid-template-columns: auto auto auto;
  /*//background-color: #2196F3;
  padding: 10px;*/
  border-radius: 30px;
    height: 60px;
    width: 60px;
  grid-gap: 30px 30px;
}
.grid-item {
  background-color: yellow;
  border: 1px solid rgba(0, 0, 0, 0.8);
  padding: 20px;
  font-size: 30px;
  text-align: center;
   border-radius: 30px;
    height: 60px;
    width: 60px;
 
}
    </style>
   

</head>
<body>

    <div id="page">

        <header class="header menu_fixed">
            <div id="preloader"><div data-loader="circle-side"></div></div><!-- /Page Preload -->
            <div id="logo">
                <a href="/home">
                    <img src="http://design.maa-aahwanam.com/panagea/img/logo.png" width="40" height="36" data-retina="true" alt="" class="logo_sticky">
                    <img src="http://design.maa-aahwanam.com/panagea/img/logo.png" width="40" height="36" data-retina="true" alt="" class="logo_normal">
                </a>
            </div>

            <ul id="top_menu"></ul>
            <!-- /top_menu -->
            <a href="#menu" class="btn_mobile">
                <div class="hamburger hamburger--spin" id="hamburger">
                    <div class="hamburger-box">
                        <div class="hamburger-inner"></div>
                    </div>
                </div>
            </a>
            <nav id="menu" class="main-menu">
                <ul>
                    <li><span><a href="#0">Add Manager</a></span>
                    <li><span><a href="#0">Add service</a></span>
                    <li>
                        <span><a href="#0">Settings</a></span>
                    </li>
                </ul>


            </nav>

        </header>
        <!-- /header -->

        <main>
            <div id="error_page">
                <div class="col-md-12">
                    <div class="row">
                        <div class="col-md-2">
                            <div class="ui-cards">
                                
                                   @*// @{Html.RenderAction("billing", "cart"); }*@

                               
                                @{Html.RenderAction("profilepic", "VDashboard");}
                                @{Html.RenderAction("sidebar", "VDashboard");  }

                                <div id="addservice">
                                  @{Html.RenderAction("Addservices", "VDashboard"); }

                                 </div>

                            </div>


                        </div>
                        <!-- /container -->
                    </div>
                 </div>
                     </div>   <!-- /error_page -->
        </main>
        <!--/main-->
        <input type="hidden" id="Item1_EmailId" name="Item1.EmailId" class="form-control" value="@ViewBag.Vendor.EmailId">
        <input type="hidden" id="Item1Id" name="Item1.Id" class="form-control" value="@ViewBag.Vendor.Id">
        <input type="hidden" id="selectedamenities" />
        <input type="hidden" id="vsid" value="@ViewBag.vsid" />

        <div id="toTop"></div><!-- Back to top button -->
        </div>
        <!-- COMMON SCRIPTS -->
        @*<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script>*@
    <script src="~/newdesignstyles/Scripts/jquery-2.2.4.min.js"></script>
    <script src="~/newdesignstyles/Scripts/common_scripts.js"></script>
    <script src="~/newdesignstyles/Scripts/main.js"></script>
    <script src="http://design.maa-aahwanam.com/panagea/assets/validate.js"></script>

        <!-- DATEPICKER  -->
    <script src="~/newdesignstyles/Scripts/moment.min.js"></script>
    <script src="~/newdesignstyles/Scripts/daterangepicker.js"></script>
        @*<script>
    $(function() {
      'use strict';
      $('input[name="dates"]').daterangepicker({
          autoUpdateInput: false,
          locale: {
              cancelLabel: 'Clear'
          }
      });
      $('input[name="dates"]').on('apply.daterangepicker', function(ev, picker) {
          $(this).val(picker.startDate.format('MM-DD-YY') + ' > ' + picker.endDate.format('MM-DD-YY'));
      });
      $('input[name="dates"]').on('cancel.daterangepicker', function(ev, picker) {
          $(this).val('');
      });
    });
        </script>*@


        <!-- INPUT QUANTITY  -->
        @*<script src="js\input_qty.js"></script>*@
        <!-- semantic -->
    <script type="text/javascript" src="~/newdesignstyles/Scripts/semantic.js"></script>
    <script type="text/javascript" src="~/newdesignstyles/Scripts/semantic.min.js"></script>

        <!-- custom -->
        @*<script type="text/javascript" src="js/custom.js"></script>*@
    <script>
            $('#profileimage').change(function () {
                var ext = $('#profileimage').val().split('.').pop().toLowerCase();
                if ($.inArray(ext, ['gif', 'png', 'jpg', 'jpeg']) == -1) {
                    alert('Invalid File Type');
                }
                else {
                    var data = new FormData();
                    var files = $("#profileimage").get(0).files;
                    //alert(files);
                    if (files.length > 0) {
                        data.append("helpSectionImages", files[0]);
                    }
                    alert($('#Item1_EmailId').val());
                    $.ajax({
                        url: '/VDashboard/UploadProfilePic?email=' + $('#Item1_EmailId').val(),
                        type: "POST",
                        processData: false,
                        contentType: false,
                        data: data,
                        success: function (response) {
                            //alert(response);
                            $('#profilepic1').removeAttr('src').attr('src', '~/ProfilePictures/' + response);
                            // window.location.reload();
                          //  $("#profilepic").load();
                        }
                    });
                }
            });
    </script>
    <script>
        $(document).ready(function () {
            $('#addservices').css("display", "none");
        });


        function addservice() {
            $('#addservices').css("display", "block");
        }
        function addservice(Id) {
            var url = '/VDashboard/Addservices?vsid=' + Id;
            $('#addservice').empty().load(url);
        }
        //$('#serviceselection1 > option').each(function () {
        //    if ($(this).text() == selectedcategory) $(this).parent('select').val($(this).val())
        //})

        $('#serviceselection').on('click', function () {
            var selectedvalue = $(this).val();
            filterdropdown(selectedvalue);
        });

        function filterdropdown(selectedvalue) {
            var id = '' + selectedvalue + 'Amenities';
            $('#' + id + '').css('display', 'block');
            var subcat = [];
            $.ajax({
                url: "/NVendorManageStoreFront/filtercategories?type=" + selectedvalue,
                success: function (result) {
                    if (result == "Fail") {
                        alertmsg("Failed to Fetch data");
                    }
                    else {
                        var selecttag = $('#subcategory').empty();
                        $.each(result.split(','), function (i, option) {
                            subcat[i] = "<option value='" + result.split(',')[i] + "'>" + result.split(',')[i] + "</option>";
                        });
                        $('#subcategory').empty().append(subcat);
                        $('#subcategory').css('display', 'block');
                    }
                },
                error: function (data)
                { alertmsg("Something Went Wrong Try Again Later"); }
            });
        }

        $("#exampleTabsLeftTwo input[type='checkbox']").change(function () {
            var arr = [], i = 0;
            var selectedvalue = '@ViewBag.category';
            var id = '' + selectedvalue + 'Amenities';
            $("#" + id + " input[type='checkbox']:checked").each(function () {
                arr[i++] = $(this).next("label").text();
            });
            //alertmsg(arr);
            $('#selectedamenities').val(arr);
        });
        function updatedetails(val) {
            var selectedamenuities =  $('#selectedamenities').val();
            alert(selectedamenuities);
        }
    </script>
    <script>
       
         /*=============== Image Block remove =============*/
         $(document).on('click', "p.red", function () {
             //$("p.red").click(function(){
             var x = $(this).parents(".blocks").css({ "transform": "translateX(1000px)", "opacity": "0" });
             setTimeout(function () { x.remove(); }, 200);
             var imgname = $(this).parents("div.row").parents("div.thumbnail").find("div.thumb-img").children("img").attr('alt');
             var id = '@ViewBag.id';
             var vid = '@ViewBag.vid';
             $.ajax({
                 url: '/NVendorManageStoreFront/Removeimage',//?src=' + imgname.replace('/vendorimages/', '')+'id='+id+'vid='+vid,
                 type: 'POST',
                 data: JSON.stringify({ src: imgname.replace('/vendorimages/', ''), id: id, vid: vid }),
                 dataType: 'json',
                 contentType: 'application/json',
                 success: function (data) {
                     if (data == "success") {
                         alertmsg('Image deleted successfully!');
                     }
                     else {
                         alertmsg('Failed!');
                     }
                 },
                 error: function (data)
                 { alertmsg("Failed!!!"); }
             });
         });
        /*=============== Image Block remove =============*/

        /*=============== Image upload and Placed =============*/

        $("#fileUpload1").change(function () {
            var filecount = $(this)[0].files.length;
            if (filecount <= 8) {
                if (typeof (FileReader) != "undefined") {
                    var dvPreview = $("#dvPreview");
                    //dvPreview.html("");
                    var regex = /^([a-zA-Z0-9\s_\\.\-:])+(.jpg|.jpeg|.gif|.png|.bmp)$/;
                    var params = dvPreview.serializeArray();
                    //Getting Files Collection
                    var files = $("#fileUpload1")[0].files;

                    //Declaring new Form Data Instance
                    var formData = new FormData();

                    //Looping through uploaded files collection in case there is a Multi File Upload. This also works for single i.e simply remove MULTIPLE attribute from file control in HTML.
                    for (var i = 0; i < files.length; i++) {
                        formData.append("file", files[i]);
                    }

                    $.ajax({
                        url: "/NVendorManageStoreFront/UploadImages?ks=@ViewBag.id&&vid=@ViewBag.vid&&type=@Request.QueryString["category"]",
                        method: "post",
                    data: formData,
                    cache: false,
                    contentType: false,
                    enctype: 'multipart/form-data',
                    processData: false,
                    success: function (data) {
                        //Firing event if File Upload is completed!
                        alertmsg("Upload Completed");
                        $("#File1").val("");
                        location.reload();
                    },
                    error: function (error) { alertmsg("Try Again After Sometime"); }
                })
                    } else {
                alertmsg("This browser does not support HTML5 FileReader.");
            }
        }
        else {
                    alertmsg("Max 8 Photos Allowed at a time");
        }
        });
        /*=============== Image upload and Placed =============*/
             $('#dvPreview .blocks').find('div.radio').change(function () {
                $("#dvPreview .blocks div.radio:last-of-type input[type='radio']").each(function () {
                    $(this).attr('checked', 'checked');
                });
                $(this).next("div.radio").find("input[type='radio']").prop('checked', false);
            });

            $(".next").click(function (e) {
                $('.radioName').empty();
                $('.blockDescrption').empty();
                e.preventDefault();
                var arr;
                var BlockLen = $("#dvPreview .blocks").length;
                $("#dvPreview .blocks").find('input[type="text"]').each(function () {
                    var v = $.trim($(this).val());
                    if (v != "") {
                        $(".blockDescrption").append($(this).val() + ',');
                    }
                });
                var blockDescrption = $('.blockDescrption').text();
                $('#Imagedescription').val($('.blockDescrption').text().slice(0, -1));

                $.ajax({
                    url: "/NVendorManageStoreFront/UpdateImageInfo?ks=@ViewBag.id&&vid=@ViewBag.vid&&description=" + $('#Imagedescription').val() + "",
                    method: "post",
                    data: $('#Imagedescription').val(),
                    cache: false,
                    contentType: false,
                    enctype: 'multipart/form-data',
                    processData: false,
                    success: function (data) {
                        alert("Image Description Updated");
                    },
                    error: function (error) { alertmsg("Try Again After Sometime"); }
                });
            });

            /*=============== Blocks Radio name and Descrption save in hidden variable =============*/
    </script>

    <script>
            $('#profileimage').change(function () {
                var ext = $('#profileimage').val().split('.').pop().toLowerCase();
                if ($.inArray(ext, ['gif', 'png', 'jpg', 'jpeg']) == -1) {
                    alert('Invalid File Type');
                }
                else {
                    var data = new FormData();
                    var files = $("#profileimage").get(0).files;
                    //alert(files);
                    if (files.length > 0) {
                        data.append("helpSectionImages", files[0]);
                    }
                    $.ajax({
                        url: '/NVendorManageStoreFront/UploadProfilePic?email=' + $('#EmailId').val(),
                        type: "POST",
                        processData: false,
                        contentType: false,
                        data: data,
                        success: function (response) {
                            //alert(response);
                        }
                    });
                }
            });
    </script>
</body>
</html>