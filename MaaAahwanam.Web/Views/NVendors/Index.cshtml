
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/SharedWeb/NMasterPage.cshtml";
}

<link href="~/newdesign/css/jquery.datetimepicker.css" rel="stylesheet" />
<link href="~/newdesign/css/jquery-ui.css" rel="stylesheet" />
<link href="~/newdesign/css/daterangepicker.css" rel="stylesheet" />

<div class="container margin-top-100">
    <input type="hidden" id="particularvendor" />
    <br />
    <div class="row">
        <h3 class="col-xs-12 col-sm-12 col-md-12 col-lg-12 margin-top-0 margin-bottom-30">Available @ViewBag.service Partners</h3>
    </div>
    <br />
    <div class="row">

        @foreach (var item in ViewBag.records)
        {
            <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3 productBlock">
                <div class="w-100">
                    <a href="/NParticularVendor/Index?type=@Request.QueryString["service"]&&id=@item.id&&vid=@item.subid">
                        @if (item.logo != null && item.logo != "")
                        {<img src="~/vendorimages/@item.logo" alt="@item.logo">}
                        else if (item.image != null && item.image != "")
                        {<img src="~/vendorimages/@item.image" alt="@item.image">}
                        else
                        { <img src="~/noimages.png" alt="No Image Available">}
                        @*@if (item.image != null && item.image != "")
                        {<img src="~/vendorimages/@item.image" alt="@item.image">}
                        else
                        { <img src="~/noimages.png" alt="No Image Available">}*@
                    </a>
                </div>
                <div class="w-100">
                    <div class="row mx-0 my-2 px-2 d-flex align-items-center">
                        @*<p class="productName mb-0">Westin</p>*@
                        @if (item.businessname != "" && item.businessname != null)
                        {<a href="/NParticularVendor/Index?type=@Request.QueryString["service"]&&id=@item.id&&vid=@item.subid"><p class="productName mb-0">@item.businessname.Replace("amp;", "")</p></a>}
                        else
                        { <a href="/NParticularVendor/Index?type=@Request.QueryString["service"]&&id=@item.id&&vid=@item.subid"><p class="productName mb-0">@item.businessname</p></a>}
                        <span class="ml-auto"><i class="fa fa-plus addCartIcn" aria-hidden="true"></i></span>
                    </div>
                </div>
                <div class="w-100">
                    <div class="row px-2 d-flex align-items-center prices">
                        <div class="col-12 col-md-12">
                            @if (ViewBag.service == "Decorator" || ViewBag.service == "Photography" || ViewBag.service == "Other")
                            {
                                <p class="mb-0 d-inline">* Prior Booking Days</p>
                                <div class="maxMin float-right">
                                    @if (item.PriorBookingsDays != null && item.PriorBookingsDays != "")
                                    {<p class="productMinPrice mb-0 ml-2 themeColor d-inline">@item.PriorBookingsDays</p>}
                                    else
                                    { <p>N/A</p>}
                                </div>
                            }
                            @if (ViewBag.service == "Catering" || ViewBag.service == "Venue" || ViewBag.service == "Hotel" || ViewBag.service == "Resort" || ViewBag.service == "Convention Hall")
                            {
                                <p class="mb-0 d-inline">* Price Starts From</p>
                                <div class="maxMin float-right">
                                    @if (item.cost != null && item.cost != "")
                                    {<p class="productMinPrice mb-0 ml-2 themeColor d-inline">Rs.@item.cost</p>}
                                    else
                                    { <p>Rs.0</p>}
                                </div>
                            }
                        </div>
                    </div>
                </div>
                @*<div class="w-100 d-inline-block">
                    <div class="d-inline float-right yellowFont pr-2 totalReviewCount"> (<span>162</span>) </div>
                </div>*@
            </div>
        }
    </div>
</div>
@*<div class="container-fluid view-details-alert">
    <div class="content">
        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 padding-left-0">
            <div class="default-details w-100 float-left">
                <h3 style="font-size:14px;font-weight:bold" class="margin-top-0"></h3>
            </div>
        </div>
        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 checkin-out">
            <div class="form-group">
                <label for="check-in">Email Id</label>
                <input type="email" class="some_class form-control" value="" id="quote_email" />
            </div>
            <div class="form-group col-xs-12 col-sm-12 col-md-6 col-lg-6 padding-left-0 padding-right-10">
                <label for="persons">Name</label>
                <input type="text" class="form-control" id="quote_name" />
            </div>
            <div class="form-group col-xs-12 col-sm-12 col-md-6 col-lg-6 padding-left-0 padding-right-0">
                <label for="extra-persons">Phone</label>
                <input type="text" class="form-control" id="quote_phone" />
            </div>
            <div class="form-group col-xs-12 col-sm-12 col-md-6 col-lg-6 padding-left-0 padding-right-10">
                <label for="check-in">Check In Date</label>
                <input type="text" class="form-control" id="checkindate" />
            </div>
            <div class="form-group col-xs-12 col-sm-12 col-md-6 col-lg-6 padding-left-0 padding-right-0">
                <label for="extra-persons">Check In Time</label>
                <input type="text" class="form-control" id="checkintime" />
            </div>
            <div class="form-group col-xs-12 col-sm-12 col-md-6 col-lg-6 padding-left-0 padding-right-10">
                <label for="check-in">Check Out Date</label>
                <input type="text" class="form-control" id="checkoutdate" />
            </div>
            <div class="form-group col-xs-12 col-sm-12 col-md-6 col-lg-6 padding-left-0 padding-right-0">
                <label for="extra-persons">Check Out Time</label>
                <input type="text" class="form-control" id="checkouttime" />
            </div>
            <div class="form-group col-xs-12 col-sm-12 col-md-6 col-lg-6 padding-left-0 padding-right-10">
                <label for="persons">Persons</label>
                <input type="text" class="form-control persons" id="quote_persons" />
            </div>
            <div class="form-group col-xs-12 col-sm-12 col-md-6 col-lg-6 padding-left-0 padding-right-0">
                <label for="extra-persons">Extra Persons</label>
                <input type="text" class="form-control extra-persons" id="quote_extrapersons" />
            </div>
            <div class="form-group text-center">
                <button name="Submit" href="#" class="btn btn-sm btn-default book-now theme-bg white" id="SendQuote">Send Details</button>
            </div>
        </div>
        <i class="fa fa-times" aria-hidden="true"></i>
    </div>
</div>
<div class="container-fluid" id="topicon">
    <i class="fa fa-arrow-up" aria-hidden="true"></i>
</div>*@

<script type="text/javascript" language="javascript" src="~/newdesign/js/jquery-3.1.1.min.js"></script>
<script src="~/newdesign/js/jquery-ui-1.12.1.js"></script>
<script src="~/newdesign/js/jquery.datetimepicker.full.js"></script>
<script src="~/newdesign/js/daterangepicker.js"></script>
<script src="~/Scripts/Quote.js"></script>
<script type="text/javascript">
        //$(document).ready(function () {
        //    $('body').attr("id", "userAuthentication");
        //});
        //$('.container').hide();
        $('.search').hide();
</script>
<script>
    /*-------- Get Quote Alert --------*/
    $("a.view-details").click(function () {
        var url = $(this).parents(".venue-details").find("a").attr("href");
        $('#particularvendor').val(url);
        $(".view-details-alert").css("display", "block");
        //alert($(this).parents(".venue-footer").find(".bottom-content.text-center").find(".content").length);
        $(".view-details-alert > .content .default-details > h3").empty().append($(this).parents(".venue-footer").find(".card-title").find("h4").text());
        var contentLen = $(this).parents(".venue-footer").find(".bottom-content.text-center").find(".content").length;
        $(".view-details-alert > .content .default-details > ul").remove();
        $(".view-details-alert > .content .default-details").append('<ul class="col-xs-12 col-sm-12 col-md-6 col-lg-6 w-100"></ul>');
        for (var i = 0; i < contentLen; i++) {
            $(".view-details-alert > .content .default-details > ul").append('<li>' + '<span style="font-weight:bold"></span>' + ' : ' + '<p style="display:inline-block"></p>' + '</li>');
            $('.view-details-alert').find('li').eq(i).find('span').append($(this).parents(".venue-footer").find(".bottom-content").find(".count").eq(i).children("span").text());
            $('.view-details-alert').find('li').eq(i).find('p').append($(this).parents(".venue-footer").find(".bottom-content").find(".count").eq(i).children("p").text());
        }

        //calender Text boxes Empty
        $(".checkin-out").find("input.check-in").val("");
        $(".checkin-out").find("input.check-out").val("");
        $(".checkin-out").find("input.persons").val("");
        $(".checkin-out").find("input.extra-persons").val("");
        //calender Text boxes Empty
    });
    $(".view-details-alert > .content > i.fa-times").click(function () {
        $(this).parents(".view-details-alert").css("display", "none");
    })
    /*-------- Get Quote Alert --------*/

    $("#SendQuote").click(function () {
        var url = $('#particularvendor').val();
        var servicetype = url.split('type=')[1].split('&&')[0];
        var vendorid = url.split('vid=')[1].split('&&')[0];
        var vendormasterid = url.split('id=')[1].split('&&')[0];
        var quotationsList = {
            Name: $('#quote_name').val(),
            EmailId: $('#quote_email').val(),
            ServiceType: servicetype,
            PhoneNo: $('#quote_phone').val(),
            EventStartDate: $('#checkindate').val(),
            EventStartTime: $('#checkintime').val(),
            EventEnddate: $('#checkoutdate ').val(),
            EventEndtime: $('#checkouttime').val(),
            VendorId: vendorid,
            VendorMasterId: vendormasterid,
            Persons: $('#quote_persons').val(),
            ExtraPersons: $('#quote_extrapersons').val(),
        }
        GetQuote(quotationsList);
        //alert('servicetype:' + servicetype + ',vendorid:' + vendorid + ',vendormasterid:' + vendormasterid);
    });

    $("#checkindate").datetimepicker({
        timepicker: false,
        datepicker: true,
        format: 'd/m/Y',
        //formatDate:'Y/m/d',
    });
    $("#checkintime").datetimepicker({
        datepicker: false,
        timepicker: true,
        format: 'H:i',
        //formatDate:'Y/m/d',
    });
    $("#checkoutdate").datetimepicker({
        timepicker: false,
        datepicker: true,
        format: 'd/m/Y',
        //formatDate:'Y/m/d',
    });
    $("#checkouttime").datetimepicker({
        datepicker: false,
        timepicker: true,
        format: 'H:i',
        //formatDate:'Y/m/d',
    });
</script>


