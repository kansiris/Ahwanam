
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/SharedWeb/DashBoardMaster.cshtml";
}
<script src="/Assets/plugins/dataTables/jquery.dataTables.js"></script>
<script src="/Assets/plugins/jquery-2.0.3.min.js"></script>
<script src="/Assets/plugins/modernizr-2.6.2-respond-1.1.0.min.js"></script>


@section Navigation
{
<div class="breads">
    <div class="breads_inner">
        <div class="pageWidth">
            <div class="title">
                <h3>Notifications</h3>
            </div>
            <div class="breadcrumbs">
                <ul>
                    @if (ViewBag.Type == "User")
                    {
                        <li><a href="~/index/Index">Home</a></li>
                    }
                    <li><i class="breads_arrow"></i></li>
                    <li>Notifications</li>
                </ul>
            </div>
        </div>
    </div>
</div>
}

    <form>
        <div class="notifications">
            <div class="mail-content">
                <ul class="mail-toolbar">
                    @*<li>
                            <input type="checkbox" id="selectall">
                        </li>*@
                    <li class="refresh"><a href="javascript:$('form').submit();"><i class="ti-reload"></i>Refresh</a></li>
                    @*<li class="delete"><a href="#"><i class="ti-trash"></i>Delete</a></li>*@
                    <li class="mail-pagination"> <span>1-15 from 169</span> <a href="#" class="btn btn-green"><i class="ti-angle-left"></i></a> <a href="#" class="btn btn-green"><i class="ti-angle-right"></i></a> </li>
                </ul>
                <!-- popup -->
                <div id="notify" class="zoom-anim-dialog mfp-hide small-dialog">
                    <div class="popup-box pop-content">
                        <div class="popup-head">
                            <h3 id="sub" style="font-size:large"></h3>
                        </div>
                        <!-- /popup-head -->
                        <div class="popup-space popup-desc-space">
                            <p id="desc"></p>
                        </div>
                    </div>
                </div>
                <!-- /popup -->
                <br />

                @if (ViewBag.AllNotifications.Count != 0)
                {

                    <div class="notificationlist">
                        <ul class="mail-list" id="DataTables_Table">
                            @foreach (var item in ViewBag.AllNotifications)
                            {
                                <li>
                                    <span class="ml-left">
                                        <a href="~/Notifications/Index?id=@item.id&&type=delete"><img src="~/Assets/img/trashcan.png" style="width: 17px;height: 17px;" /></a>
                                    </span> 
                                    <a class="ml-center popup-with-move-anim" href="#notify" onclick="displaypopup('@item.description', '@item.Subject')"> 
                                    <span class="mail-sender" style="width:350px;white-space:nowrap;overflow: hidden;text-overflow: ellipsis;">@item.description</span> 
                                    <span class="mail-subject">@item.Subject</span> </a> 
                                    <span class="ml-right">@item.DateandTime.ToShortDateString()</span>
                                </li>
                            }

                        </ul>
                    </div>
                }

                        @if (ViewBag.AllNotifications.Count == 0)
                {
                            <h2>No Notifications Yet!!!!</h2>
                        }

                    </div>
        </div>
    </form>



<script>
   
    $(document).ready(function () {
        var options = $("div.notificationlist ul");
        options.each(function () {
            var $table = $("div.notificationlist ul");
            if ($table.is('ul')) {
                var $ul = $table;
                $table = $ul.wrap('<table><tbody/></table>').closest('table').addClass('dashboardList dashboardList-nospace mail-list').width('100%').animate('color:black');
                $ul.find('li').wrap('<tr><td/></tr>').contents().unwrap('a').css('color', 'black');
                $ul.find('td span.ml-right').css('float','right');
                $ul.contents().unwrap()
                
                $table.prepend('<thead><tr><th>' + ($ul.data('heading') || '') + '</th></tr></thead>');
            }
            $table.dataTable({ bFilter: false, ordering: false, bLengthChange: false});
        });
    });
</script>


    <script type="text/javascript">
        function displaypopup(description, preference) {
            var desc = $("#desc");
            var pref = $("#sub");
            desc.html(description);
            pref.html(preference);
        }
    </script>


@*<ul class="mail-list">
    <li>
        <span class="ml-left">
            <input type="checkbox" class="case" name="case" />
        </span><span class="ml-reply"><a href="~/Comments/Index"><i class="ti-share-alt"></i></a></span> <a class="ml-center popup-with-move-anim" href="#notify"> <span class="mail-sender">Lorem ipsum dolor sit amet</span> <span class="mail-subject">Nam lobortis est in iaculis suscipit, erat purus tempus orci</span> </a> <span class="ml-right">06:28 PM</span>
    </li>
    <li>
        <span class="ml-left">
            <input type="checkbox" class="case" name="case" />
        </span> <span class="ml-reply"><a href="~/Comments/Index"><i class="ti-share-alt"></i></a></span><a class="ml-center popup-with-move-anim" href="#notify"> <span class="mail-sender">Aliquam rhoncus ac est</span> <span class="mail-subject">Donec ut ex quam. Mauris facilisis orci sapien</span> </a> <span class="ml-right">11:16 AM</span>
    </li>
    <li>
        <span class="ml-left">
            <input type="checkbox" class="case" name="case" />
        </span> <span class="ml-reply"><a href="~/Comments/Index"><i class="ti-share-alt"></i></a></span><a class="ml-center popup-with-move-anim" href="#notify"> <span class="mail-sender">Etiam in odio sed</span> <span class="mail-subject"> Maecenas ornare urna eget mauris mattis placerat. </span> </a> <span class="ml-right">Oct 15</span>
    </li>
    <li>
        <span class="ml-left">
            <input type="checkbox" class="case" name="case" />
        </span> <span class="ml-reply"><a href="~/Comments/Index"><i class="ti-share-alt"></i></a></span><a class="ml-center popup-with-move-anim" href="#notify"> <span class="mail-sender">Cras et lectus ornare</span> <span class="mail-subject"> Pellentesque porta finibus facilisis</span> </a> <span class="ml-right">Oct 13</span>
    </li>
    <li>
        <span class="ml-left">
            <input type="checkbox" class="case" name="case" />
        </span><span class="ml-reply"><a href="~/Comments/Index"><i class="ti-share-alt"></i></a></span> <a class="ml-center popup-with-move-anim" href="#notify"> <span class="mail-sender">Cras vitae </span> <span class="mail-subject">Ut eget felis et enim euismod posuere quis id tortor</span> </a> <span class="ml-right">Oct 13</span>
    </li>
    <li>
        <span class="ml-left">
            <input type="checkbox" class="case" name="case" />
        </span><span class="ml-reply"><a href="~/Comments/Index"><i class="ti-share-alt"></i></a></span> <a class="ml-center popup-with-move-anim" href="#notify"> <span class="mail-sender">Vestibulum congue erat dui</span> <span class="mail-subject">Nam blandit at dui ac venenatis</span> </a> <span class="ml-right">Oct 12</span>
    </li>
    <li>
        <span class="ml-left">
            <input type="checkbox" class="case" name="case" />
        </span> <span class="ml-reply"><a href="~/Comments/Index"><i class="ti-share-alt"></i></a></span><a class="ml-center popup-with-move-anim" href="#notify"> <span class="mail-sender">Lorem ipsum dolor sit amet</span> <span class="mail-subject">Nam lobortis est in iaculis suscipit, erat purus tempus orci</span> </a> <span class="ml-right">Oct 12</span>
    </li>
    <li>
        <span class="ml-left">
            <input type="checkbox" class="case" name="case" />
        </span><span class="ml-reply"><a href="~/Comments/Index"><i class="ti-share-alt"></i></a></span> <a class="ml-center popup-with-move-anim" href="#notify"> <span class="mail-sender">Aliquam rhoncus ac est</span> <span class="mail-subject">Donec ut ex quam. Mauris facilisis orci sapien</span> </a> <span class="ml-right">Oct 12</span>
    </li>
    <li>
        <span class="ml-left">
            <input type="checkbox" class="case" name="case" />
        </span> <span class="ml-reply"><a href="~/Comments/Index"><i class="ti-share-alt"></i></a></span><a class="ml-center popup-with-move-anim" href="#notify"> <span class="mail-sender">Etiam in odio sed</span> <span class="mail-subject"> Maecenas ornare urna eget mauris mattis placerat. </span> </a> <span class="ml-right">Oct 11</span>
    </li>
    <li>
        <span class="ml-left">
            <input type="checkbox" class="case" name="case" />
        </span><span class="ml-reply"><a href="~/Comments/Index"><i class="ti-share-alt"></i></a></span> <a class="ml-center popup-with-move-anim" href="#notify"> <span class="mail-sender">Cras et lectus ornare</span> <span class="mail-subject"> Pellentesque porta finibus facilisis</span> </a> <span class="ml-right">Oct 11</span>
    </li>
    <li>
        <span class="ml-left">
            <input type="checkbox" class="case" name="case" />
        </span> <span class="ml-reply"><a href="~/Comments/Index"><i class="ti-share-alt"></i></a></span><a class="ml-center popup-with-move-anim" href="#notify"> <span class="mail-sender">Sodales enim tempus</span> <span class="mail-subject">Ut eget felis et enim euismod posuere quis id tortor</span> </a> <span class="ml-right">Oct 10</span>
    </li>
    <li>
        <span class="ml-left">
            <input type="checkbox" class="case" name="case" />
        </span> <span class="ml-reply"><a href="~/Comments/Index"><i class="ti-share-alt"></i></a></span><a class="ml-center popup-with-move-anim" href="#notify"> <span class="mail-sender">Vestibulum congue erat dui</span> <span class="mail-subject">Nam blandit at dui ac venenatis</span> </a> <span class="ml-right">Oct 10</span>
    </li>
    <li>
        <span class="ml-left">
            <input type="checkbox" class="case" name="case" />
        </span><span class="ml-reply"><a href="~/Comments/Index"><i class="ti-share-alt"></i></a></span> <a class="ml-center popup-with-move-anim" href="#notify"> <span class="mail-sender">Etiam in odio sed</span> <span class="mail-subject"> Maecenas ornare urna eget mauris mattis placerat. </span> </a> <span class="ml-right">Oct 10</span>
    </li>
    <li>
        <span class="ml-left">
            <input type="checkbox" class="case" name="case" />
        </span><span class="ml-reply"><a href="~/Comments/Index"><i class="ti-share-alt"></i></a></span> <a class="ml-center popup-with-move-anim" href="#notify"> <span class="mail-sender">Aliquam rhoncus ac est</span> <span class="mail-subject">Donec ut ex quam. Mauris facilisis orci sapien</span> </a> <span class="ml-right">Oct 09</span>
    </li>
    <li>
        <span class="ml-left">
            <input type="checkbox" class="case" name="case" />
        </span><span class="ml-reply"><a href="~/Comments/Index"><i class="ti-share-alt"></i></a></span> <a class="ml-center popup-with-move-anim" href="#notify"> <span class="mail-sender">Cras et lectus ornare</span> <span class="mail-subject"> Pellentesque porta finibus facilisis</span> </a> <span class="ml-right">Oct 08</span>
    </li>
</ul>*@